var _unifiedTracking;
_unifiedTracking=function(b){b.queues={};var h=[],f=[{}];b.pageName=function(){var c="country,market,category,group,pageid,layer,attribute,linkid,linkgroup".split(","),d={get:function(a,e){if(!a)throw"The page name format parameter is expected!";for(var g=e||f[f.length-1],b=c.length;b--;){var d=RegExp("(^|[^}{]*?)({"+c[b]+"})");d.exec(a)&&(a=g[c[b]]?a.replace("{"+c[b]+"}",g[c[b]],"g"):a.replace(d,""))}return a},set:function(a){for(var e in a)a[e]&&(a[e]=a[e].toLowerCase());f.push(b.helper.combineCopy(f[f.length-1],
a));for(a=h.length;a--;)b.queues[h[a]].push(["pagename",f[f.length-1]]);return!0}};return function(){return d[arguments[0]].apply(this,Array.prototype.slice.call(arguments,1))}}();b.registerExtension=function(c,d,a){if(b.queues[c])throw Error("Extension '"+c+"' already added!");b.queues[c]=[];b[c]=function(){b.queues[c].push(Array.prototype.slice.call(arguments,0))};a&&(h.push(c),b[c]("pagename",f[f.length-1]));d&&b.helper.loadScriptAsync(d)};b.initExtension=function(c,d){if(!b[c])throw Error("Extension '"+
c+"' was not registered!");b[c]=d(b.queues[c],b)};b.helper={};b.helper.combine=function(c,b,a){var a=!1===a?!1:!0,e;for(e in b)if(b.hasOwnProperty(e)&&(a||!c.hasOwnProperty(e)))c[e]=b[e];return c};b.helper.combineCopy=function(b,d,a){var a=!1===a?!1:!0,e={},g;for(g in b)b.hasOwnProperty(g)&&(e[g]=b[g]);for(g in d)if(d.hasOwnProperty(g)&&(a||!b.hasOwnProperty(g)))e[g]=d[g];return e};b.helper.loadScriptAsync=function(b){var d=document.createElement("script"),a=document.getElementsByTagName("script")[0];
d.async=1;d.src=b;a.parentNode.insertBefore(d,a)};b.helper.workQueue=function(c,d,a){for(var e=b.queues[c],g;a<e.length;a++)"pagename"==e[a][0]?(g=b[c].updatePageName(e[a][1]),e.splice(a,1,g),a--):"function"==typeof d[e[a][0]]&&d[e[a][0]].apply(b[c],Array.prototype.slice.call(e[a],1));return a};return b}(_unifiedTracking||{});$=$||{};$.as24=$.as24||{};$.as24.unifiedTracking=_unifiedTracking;
_unifiedTracking.persistence=function(){var b=function(){var a=window.location.hostname;if(""===a)return a;if(a.indexOf(".")===a.lastIndexOf("."))return"."+window.Location.hostname;var b=a.slice(0,a.lastIndexOf(".")).lastIndexOf(".");return a.substr(b,a.length-b)},h=function(a,e,c){var d=b();if(c){var f=new Date;f.setTime(f.getTime()+6E4*c);c="; expires="+f.toGMTString()}else c="";document.cookie=a+"="+e+c+"; path=/;"+(""===d?d:" domain="+d+";")},f=function(a){var b=(" "+document.cookie).match(RegExp("[; ]"+
a+"=([^\\s;]*)"));return a&&b?unescape(b[1]):""},c=function(){var a=f("utpersist"),b;try{b=JSON.parse(a)}catch(c){b={}}return b},d={set:function(a){var b=f("utpersist"),c;try{c=JSON.parse(b)}catch(d){c={}}c=_unifiedTracking.helper.combine(c,a);h("utpersist",JSON.stringify(c),30)},get:function(a){return c()[a]||""},forget:function(a){var b=c();delete b[a];h("utpersist",JSON.stringify(b),30)}};return function(){return d[arguments[0]].apply(this,Array.prototype.slice.call(arguments,1))}}(_unifiedTracking.persistence||
{});
